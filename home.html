<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
        <title>Cinch</title>
        
        <link rel="stylesheet" href="jquery.mobile/jquery.mobile-1.0.1.min.css" />
        <link rel="stylesheet" href="styles/site.css" />
        
        <script type="text/javascript" src="scripts/jquery-1.7.1.min.js"></script>
        <script type="text/javascript" src="jquery.mobile/jquery.mobile-1.0.1.min.js"></script>
        <script type="text/javascript" src="scripts/knockout-2.1.0beta.js"></script>
        <script type="text/javascript" src="scripts/jquery.animate-shadow-min.js"></script>
        <script type="text/javascript" src="scripts/modernizr-2.0.6.js"></script>
	<script type="text/javascript" src="scripts/main.js"></script>
	<script type="text/javascript" src="scripts/animation.js"></script>
    </head>
    
    <body>
        <div data-role="page">
            <div data-role="header">
            <h1>Cinch</h1>
            </div>
            <div data-role="content">
                <div id="home-buttons-container">
                    <a data-role="button" href="#game-page" onclick="SubmitNew(CinchApp.GAME_MODE_NEW)">New game</a>
                    <a data-role="button" href="#game-page" onclick="SubmitJoin(0, 0)">Join game</a>
                </div>
            </div>
        </div>
        
        <div data-role="page" id="bidding-page">
	    <div data-role="header">
		<h1>Bidding</h1>
	    </div><!-- /header -->
	    <div data-role="content">
                <ul data-role="listview" data-inset="true" id="bid-list" class="condensed-list">
                    <li data-theme="a">
                        Bids
                    </li>
                    
                    <!-- ko foreach: playerNames -->
                        <li data-bind="text: $data" data-role="list-divider"></li>
                        <li data-bind="text: $root.currentBidsNames()[parseInt($index())]"></li>
                    <!-- /ko -->
                </ul>
                
		<fieldset data-role="controlgroup" id="bid-controls">
                    <!-- ko foreach: possibleBids -->
                        <input type="radio" data-bind="value: value, checked: $root.selectedBid, jqmCbrEnabled: isValid, attr: { id: 'bid-radio-' + value }" name="bid-radio" />
                        <label data-bind="text: name, attr: { for: 'bid-radio-' + value }"></label>
                    <!-- /ko -->
		    
		    <input type="button" data-bind="click: submitBid, jqmButtonEnabled: isActivePlayer" id="bid-submit" value="Submit bid" />
		</fieldset>
                
                <strong>
                    Your hand:
                </strong>
                
                <div data-bind="foreach: cardsInHand" id="bid-hand">
                    <img data-bind="attr: { src: imagePath }" />
                </div>
	    </div>
	</div><!-- /bidding page -->
        
        <div data-role="page" data-dom-cache="true" id="game-page">
            <div data-role="header">
            <h1>Cinch</h1>
            </div><!-- /header -->
            <div data-role="content" id="game-content">
                <div id="left-content">
                    <div>
			<ul data-role="listview" data-inset="true" id="active-player" class="condensed-list">
                            <li data-bind="visible: activePlayerName" data-role="list-divider">
				Active player
                            </li>
                            <li data-bind="text: activePlayerName, visible: activePlayerName">
                            </li>
			    
                            <li data-bind="visible: dealerName" data-role="list-divider">
				Dealer
                            </li>
                            <li data-bind="text: dealerName, visible: dealerName">
                            </li>
			    
                            <li data-bind="visible: trumpName" data-role="list-divider">
				Trump
                            </li>
                            <li data-bind="text: trumpName, visible: trumpName">
                            </li>
                        </ul>
		    </div>
                    <div id="player-2" class="other-player">
                        <div>
			</div>
                    </div>
                    <div>
			<ul data-role="listview" data-inset="true" id="scoreboard" class="condensed-list">
			    <li data-theme="a">
				Score
                            </li>
                            <li data-role="list-divider">
				You
                            </li>
                            <li data-bind="text: gameScores()[0]"></li>
			    
			    <li data-role="list-divider">
				Them
                            </li>
                            <li data-bind="text: gameScores()[1]"></li>
                        </ul>
		    </div>
                    
                    <div class="float-break"></div>
                    <div id="player-1" class="other-player">
                        <div>
			</div>
                    </div>
                    <div>
                        <canvas id="play-surface">
                        </canvas>
                    </div>
                    <div id="player-3" class="other-player">
                        <div>
			</div>
                    </div>
                    
                    <div class="float-break"></div>
                    <div data-bind="foreach: cardsInHand" id="hand">
			<div data-bind="click: submit, jqmButtonEnabled: $root.isActivePlayer() && $root.gameMode() == CinchApp.gameModeEnum.play" data-role="button" class="tile-button">
			    <img data-bind="attr: { src: imagePath}" />
			</div>
                    </div>
                </div>
                <div id="right-content">
		    <div data-bind="visible: !isGameStarted" id="waiting-message">
			Waiting for other players <img src="images/loading.gif" />
		    </div>
		    
		    <input id="text-to-insert" type="text" />
                    <button id="submit-button" onclick="SubmitChat()">Submit</button>
                    <ul data-role="listview" data-inset="true" id="output-list">
                        <li data-role="list-divider">Messages</li>
			
			<!-- ko foreach: chats -->
			    <li>
				<strong data-bind="visible: name, text: name + ': '"></strong>
				<span data-bind="text: text" class="chat-message"></span>
			    </li>
			<!-- /ko -->
                    </ul>
                </div>
            </div>
        </div><!-- /game page -->
    </body>
    
</html>