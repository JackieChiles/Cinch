<!DOCTYPE html>
<html style="font-family:arial;">
  <head>
<!--    <link href="static/css/style.css" rel="stylesheet"> -->
    <script type="text/javascript" src="scripts/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="scripts/socket.io.min.js"></script>
    <script type="text/javascript">
// socket.io specific code
var socket = io.connect('http://localhost:8088/cinch');
    // The /cinch refers to a socket.io namespace, not a URI.

var s = function(c, a) {
    socket.emit(c, a);
};   // helper function to use from console

// Exit page cleanly
$(window).bind("beforeunload", function() {
    socket.disconnect();
});


// Handlers for commands sent by server. For now, just printing the information
// to the console. Let the human act appropriately.

socket.on('rooms', function(msg) {
    console.log("'rooms' -- ", msg);    
});

socket.on('chat', function(msg) {
    console.log("'chat' -- ", msg);    
});

socket.on('err', function(msg) {
    console.log("'err' -- ", msg);    
});

socket.on('newRoom', function(msg) {
    console.log("'newRoom' -- ", msg);    
});

socket.on('ackCreate', function(msg) {
    console.log("'ackCreate' -- ", msg);    
});

socket.on('ackJoin', function(msg) {
    console.log("'ackJoin' -- ", msg);    
});

socket.on('users', function(msg) {
    console.log("'users' -- ", msg);    
});

socket.on('enter', function(msg) {
    console.log("'enter' -- ", msg);    
});

socket.on('roomFull', function(msg) {
    console.log("'roomFull' -- ", msg);    
});

socket.on('ackSeat', function(msg) {
    console.log("'ackSeat' -- ", msg);    
});

socket.on('ackNickname', function(msg) {
    console.log("'ackNickname' -- ", msg);    
});

// Game message handlers

socket.on('startData', function(msg) {
    console.log("'startData' -- ", msg);    
});

socket.on('bid', function(msg) {
    console.log("'bid' (from server) -- ", msg);    
});

socket.on('play', function(msg) {
    console.log("'play' (from server) -- ", msg);    
});
    
    </script>
  </head>
<body>
<h1>Cinch, as she is played</h1>
<h3>Open developer console.</h3>

<p>Type: s('command', 'args') based on the following:</p>
<table border="1">
<tr><th>command</th><th>args</th></tr>

<tr><td> chat </td><td> (string) chat message </td></tr>
<tr><td> createRoom </td><td> empty string for now, later AI params </td></tr>
<tr><td> exit </td><td> empty string </td></tr>
<tr><td> join </td><td> room number to join </td></tr>
<tr><td> seat </td><td> requested seat number </td></tr>
<tr><td> nickname </td><td> (string) requested nickname </td></tr>
<tr><td> -- </td><td> -- </td></tr>
<tr><td> bid </td><td> num 0-5 </td></tr>
<tr><td> play </td><td> num 1-52 of cards in hand </td></tr>
<tr><td> -- </td><td> -- </td></tr>
<tr><td> exec </td><td> (string) Python command to be executed (danger!) </td></tr>
</table>

<br />

<p>Example gameplay</p>
1. Load 4 clients<br />
2. In one client, s('createRoom', '')<br />
3. In all clients, s('join', 1)<br />
4. In client that received the 'ackSeat' = 1, s('bid', 1)<br />
5. In each other client in order, s('bid', 0)<br />
6. Call s('play', ##) in each client, where ## is the top card in startData.addC

</body>
</html>


